<section class="my-4">

    <div class="row g-0">
      <div class="col-md-9">
        <owl-carousel-o [options]="customOptionsMain">
            <ng-template carouselSlide>
                <img src="./assets/images/img1.avif" height="400px" class="w-100" alt="">   
            </ng-template>    
            <ng-template carouselSlide>
                <img src="./assets/images/img2.avif" height="400px" class="w-100" alt="">   
            </ng-template>    
            <ng-template carouselSlide>
                <img src="./assets/images/img3.avif" height="400px" class="w-100" alt="">   
            </ng-template>    
            <ng-template carouselSlide>
                <img src="./assets/images/img4.avif" height="400px" class="w-100" alt="">   
            </ng-template>    
            <ng-template carouselSlide>
                <img src="./assets/images/img5.avif" height="400px" class="w-100" alt="">   
            </ng-template>    
            <ng-template carouselSlide>
                <img src="./assets/images/img6.avif" height="400px" class="w-100" alt="">   
            </ng-template>    
            <ng-template carouselSlide>
                <img src="./assets/images/img7.avif" height="400px" class="w-100" alt="">   
            </ng-template>    
        </owl-carousel-o>
      </div>
      <div class="col-md-3">
        <img src="./assets/images/grocery-banner.png" height="200px" class="w-100" alt="" >
        <img src="./assets/images/grocery-banner-2.jpeg" height="200px" class="w-100" alt="" >
      </div>
    </div>

</section>

<section class="my-4">
    <h2 class="text-main pb-3">Popular Categories : </h2>
    <owl-carousel-o [options]="customOptionsCat">

        @for (catList of categoryList; track catList._id) {
        <ng-template carouselSlide>
            <div class="g-2">
                <img [src]="catList.image" height="250px" class="w-100 rounded-4 " alt="catList.name">
                <h3 class="h6 text-main text-uppercase mt-2 ">{{catList.name}}</h3>
            </div>
        </ng-template>
        }

    </owl-carousel-o>
</section>



<section class="my-4">
    <h2 class="text-main pb-3">Popular Products : </h2>
    
    <div class="row g-3">
        
        @for (product of productList.slice(0,9) ; track product.id) {
            <div class="col-md-4">
            <div class="product p-3 rounded-4 ">
              <div class="py-2" [routerLink]="['/details',product.id]">
                
                <div class="text-center">
                    <img [src]="product.imageCover" class="w-50" [alt]="product.title">
                </div>
                <h4 class="text-main badge text-bg-info my-2 p-2">{{product.category.name}}</h4>
                <h5>{{product.title|cutText:2}}</h5>
                <div class="d-flex justify-content-between align-items-center">
                    <span>{{product.price|currency}}</span>
                    <div>

                        <span class="text-muted">{{product.ratingsAverage}}</span>
                        @for (num of [1,2,3,4,5].slice(0,product.ratingsAverage) ; track $index) {
                        <span><i class="fas fa-star rating-color"></i></span>
                        }


                    </div>
                </div>
              </div>
              <span (click)="addToWishlist(product.id)">
                <i class="fa fa-heart fa-2x cursor-pointer" [ngClass]="{ 'text-danger': isInWishlist.has(product.id), 'text-muted': !isInWishlist.has(product.id) }"></i>
              </span>
              <button (click)="addToCart(product.id)" class="btn-main w-100 my-2"> Add to cart <i class="fas fa-cart-shopping mx-2"></i>
                

           </button>

            </div>
        </div>
        }
    </div>
</section>